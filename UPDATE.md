## DzzOffice的下载及技术支持

1. 官方网站：   http://www.dzzoffice.com
2. github地址：https://github.com/zyx0814/dzzoffice
3. 码云地址：   https://gitee.com/zyx0814/dzzoffice

## DzzOffice2.3.3主要更新内容

### **修复**
1. **已知问题修复**
   - 修复了一些已知问题，提升系统稳定性。
   - 修复了网盘移动端上传文件受损无法打开的问题。
   - 修复上传分块大小会变成 0 导致上传文件失败或受损的问题。
   - 修复光年模板加载页面时抖动问题。
   - 修复网盘应用移动端在部分浏览器中不支持加载更多文件的问题。
   - 修复部分情况下无法正常更新用户状态信息的问题。
   - 修复网盘应用移动端部分情况下目录权限不正确的问题。
   - 修复在网盘应用回收站无法恢复机构部门删除的文件的问题。
   - 修复默认模板下普通用户使用文件管理和分享管理可以查看所有数据的问题。
   - 修复网盘应用在 Linux 环境下部分语言不能翻译的问题。
   - 修复数据表格点击重置按钮后不按类型加载数据的问题，并添加了刷新按钮。
2. **PHP8 兼容性修复**
   - 解决了 PHP8 环境下的多个致命问题，包括加密解密、验证码显示、新建网址、权限控制、文件缩略图生成及网盘应用功能等。
### **新增功能**
1. **前端框架升级**
   - 主程序前端框架升级至 Bootstrap4。
2. **网盘应用分享功能增强**
   - 分享文件权限新增上传功能，支持选择未登录用户进行文件上传。
   - 分享文件界面支持选择打开方式，支持新建文件夹与上传文件。
   - 群组管理新增群组空间大小修改功能。
3. **安全与登录管理**
   - 支持设置尝试登录次数及次数用完后的禁用时间。
   - 支持设置用户在线时间更新时长。
4. **大文件读取优化**
   - `index.php&mod=io&op=getStream` 接口改为使用 `fread` 分段读取，支持分块请求与普通请求，优化大文件读取性能。
### **优化**
1. **体验优化**
   - 优化了部分已知的模板 UI 问题，提升用户体验。
   - 优化光年模板的通知消息 UI 效果。
   - 升级 `1avui` 至 `v2.9.23` 版本。
   - 优化了直接访问 `admin.php` 时的跳转逻辑，现在用户可以直接跳转到管理页。
   - 优化编辑器中插入的图片类宽高不能自定义的问题。
   - 优化了网盘右键子菜单低概率不能选择的问题。
2. **框架冲突解决**
   - 打开文件与选择位置支持 `lyear`，解决 Bootstrap 与其他框架同时存在时的冲突问题。
3. **PDF 表单支持**
   - 网盘支持新建 PDF 表单，以支持使用 OnlyOffice 的表单功能。
### 注意事项
- 离线升级：从2.3.2升级到2.3.3的用户无需执行升级程序，覆盖后在系统工具中清理缓存即可。
- PHP版本：仅支持php7.0+的PHP版本使用。
- 插件升级：升级至2.3.3版本后需要前往应用市场更新已安装的插件以确保插件能正常使用。

## DzzOffice2.3.0主要更新内容

**一、功能优化**

1. 优化站点关闭时登录页不能显示站点logo的问题，提升用户体验。

2. 系统工具新增系统概览功能，方便管理员快速了解系统整体状态。

3. 系统工具增加文件权限检查功能，确保文件安全。

4. 系统日志增加记录设备信息和用户UID功能，增强日志记录的详细性。

5. 优化系统日志搜索UI，提高搜索效率。

6. 个人中心增加最近在线时间、添加时间、邮箱、登录记录信息显示，丰富用户个人信息。

7. 个人中心添加个人名片页面入口，方便用户展示个人名片。

8. 文件管理增加更多信息查看，包括直链地址、文件引用数、是否在回收站信息等，提升文件管理便捷性。

9. 通知中心增加来源地址，并优化UI，提升通知信息的可读性。

10. 编辑器升级为UEditorPlus，提升编辑功能和使用体验。

**二、问题修复**

1. 修复关闭验证码的情况下注册用户提示验证码错误的问题，确保注册流程顺畅。

2. 修复访问用户资料管理时左侧栏没有显示当前位置的问题，提升用户导航体验。

3. 修复当用户资料字段设置在注册页显示时不生效的问题，确保用户资料字段正确显示。

4. 修复分享页面文件缺失的问题，保障文件分享功能的正常使用。

5. 修复绑定邮箱翻译错误的问题，确保翻译准确性。

6. 其他已知bug修复，安全问题修复。

**三、系统适配与升级**

1. IP地址适配IPV6环境，提升系统的网络兼容性。

2. 适配PHP7.4，确保系统能够在最新的PHP环境下稳定运行。

**四、新增功能**

1. 评论组件增加IP、设备信息记录，增强评论管理的安全性。

2. 支持使用系统手机号登录，提升用户登录的便捷性。

3. 机构用户用户信息处添加注册时间、注册IP、添加时间，方便管理员管理用户信息。

4. 增加系统出现错误时通知管理员的功能，确保系统问题能够及时得到处理。

## DzzOffice在线更新方法

1. 进入您原来的系统，关闭您的站点。进行数据备份；

2. 备份文件（如果有程序文件或风格文件的改动）；

3. 进入 管理 -> 系统工具 -> 在线更新，按提示完成更新；

4. 系统工具 -> 更新系统缓存；

5. 系统设置 -> 打开站点。

## DzzOffice离线更新方法

1. 进入您原来的系统，关闭您的站点。进行数据备份；

2. 备份文件（如果有程序文件或风格文件的改动）；

3. 下载并解压缩最新版的程序包；

4. 程序包解压缩后，并且将文件上传到网站根目录覆盖；

5. 访问 http://您的域名/install/update.php。

6. 按照程序提示，直至所有升级完毕。删除install/update.php 程序，以免被恶意利用。

7. 进入管理员桌面，更新缓存。

8. 系统设置 -> 打开站点。
