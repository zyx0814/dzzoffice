/*!
 * ====================================================
 * angular colorpicker - v1.0.9 - 2016-06-10
 * https://github.com/zhangbobell/color-picker#readme
 * GitHub: git+https://github.com/zhangbobell/color-picker.git 
 * Copyright (c) 2016 ; Licensed 
 * ====================================================
 */


angular.module("ui.colorpicker",[]).directive("colorPicker",["$compile","localize",function(a,b){return{restrict:"EA",scope:{setColor:"&"},link:function(c,d,e){function f(){var a=s(d);y.css(a)}function g(){return angular.isDefined(e.disabled)?!e.disabled:!0}function h(a){c.$emit("colorPicked",a),c.hoveredColor=a,q(a),c.latestColor=p()}function i(a){h(a),k()}function j(a){c.hoveredColor=a}function k(){y.css("display","none")}function l(a){var b=g();if(b){a.stopPropagation();var c=s(d);y.css(c),y.css("display","block"),y[0].focus()}}function m(a){a.stopPropagation()}function n(){var a=document.createElement("input");return a.setAttribute("type","color"),"text"!==a.type}function o(){var a=window.localStorage.getItem("ui-color-picker");if(!a)return null;try{a=JSON.parse(a)}catch(b){return null}return a}function p(){var a=o();return a?a.latestColor:[]}function q(a){var b=o()||{},c=p();if(c&&c instanceof Array){var d=c.indexOf(a);-1!=d&&c.splice(d,1),c.unshift(a)}else c=[a];c.length>10&&(c=c.slice(0,10)),b.latestColor=c,window.localStorage.setItem("ui-color-picker",JSON.stringify(b))}function r(a,b){for(var c=0,d=0,e=0,f=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,b||"BODY"!==a.tagName?(e+=a.scrollLeft,f+=a.scrollTop):(e+=document.documentElement.scrollLeft||a.scrollLeft,f+=document.documentElement.scrollTop||a.scrollTop),a=a.offsetParent;return{top:d,left:c,scrollX:e,scrollY:f}}function s(a){var b,c=r(a[0]);return"top"===z?b={top:c.top-147,left:c.left}:"right"===z?b={top:c.top,left:c.left+126}:"bottom"===z?b={top:c.top+a[0].offsetHeight+2,left:c.left}:"left"===z&&(b={top:c.top,left:c.left-150}),{top:b.top+"px",left:b.left+"px"}}var t=c.setColor()||e.defaultColor||"#fff",u={clearText:b.get("default_color"),defaultColor:t,latestText:b.get("latest_used"),commonText:b.get("theme_color"),commonColor:[["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646"],["#f2f2f2","#808080","#ddd8c2","#c6d9f1","#dbe5f1","#f2dbdb","#eaf1dd","#e5dfec","#daeef3","#fde9d9"],["#d9d9d9","#595959","#c4bc96","#8db3e2","#b8cce4","#e5b8b7","#d6e3bc","#ccc0d9","#b6dde8","#fbd4b4"],["#bfbfbf","#404040","#938953","#548dd4","#95b3d7","#d99594","#c2d69b","#b2a1c7","#92cddc","#fabf8f"],["#a6a6a6","#262626","#4a442a","#17365d","#365f91","#943634","#76923c","#5f497a","#31849b","#e36c0a"],["#7f7f7f","#0d0d0d","#1c1a10","#0f243e","#243f60","#622423","#4e6128","#3f3151","#205867","#974706"]],standardText:b.get("standard_color"),standardColor:["#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"],moreText:b.get("more_color")},v=(1e6*+new Date+Math.floor(1e6*Math.random())).toString(36),w='<div class="colorpicker-container" tabindex="-1" ng-click="keepPickerOpen($event)"><div class="colorpicker-toolbar"><div class="colorpicker-preview" ng-style="{ \'background-color\': hoveredColor }"></div><div class="colorpicker-clear" ng-bind="defaultOptions.clearText" ng-click="selectColorAndClose(setColor() || defaultOptions.defaultColor)"></div></div><div class="colorpicker-title" ng-bind="defaultOptions.latestText" ng-if="latestColor.length > 0"></div><div class="colorpicker-latestcolor colorpicker-colors"><span class="colorpicker-colors-item" ng-repeat="color in latestColor" ng-style="{\'background-color\': color, \'border-color\': color}" ng-click="selectColorAndClose(color)" ng-mouseover="previewColor(color)" ng-mouseleave="previewColor(setColor() || defaultOptions.defaultColor)"></span></div><div class="colorpicker-title" ng-bind="defaultOptions.commonText"></div><div class="colorpicker-commoncolor"><div class="colorpicker-colors colorpicker-colors-line{{$index}}" ng-repeat="line in defaultOptions.commonColor"><span class="colorpicker-colors-item" ng-repeat="color in line" ng-style="{\'background-color\': color, \'border-color\': color}" ng-click="selectColorAndClose(color)" ng-mouseover="previewColor(color)" ng-mouseleave="previewColor(setColor() || defaultOptions.defaultColor)"></span></div></div><div class="colorpicker-title" ng-bind="defaultOptions.standardText"></div><div class="colorpicker-standardcolor colorpicker-colors"><span class="colorpicker-colors-item" ng-repeat="color in defaultOptions.standardColor" ng-style="{\'background-color\': color, \'border-color\': color}" ng-click="selectColorAndClose(color)" ng-mouseover="previewColor(color)" ng-mouseleave="previewColor(setColor() || defaultOptions.defaultColor)"></span></div><div class="colorpicker-title colorpicker-morecolor" ng-if="isSupportNativeColorPicker"><label for="native-color-picker'+v+'" ng-bind="defaultOptions.moreText"></label><input id="native-color-picker'+v+'" class="native-color-picker" type="color" ng-model="nativeColor" ng-change="selectColor(nativeColor);" /></div></div>',x=angular.element,y=x(w),z=angular.isDefined(e.colorpickerPosition)?e.colorpickerPosition:"bottom";c.defaultOptions=u,c.isSupportNativeColorPicker=n(),c.latestColor=p(),c.selectColor=h,c.previewColor=j,c.selectColorAndClose=i,c.keepPickerOpen=m,c.hoveredColor=u.defaultColor,a(y)(c),x(document.body).append(y),d.on("click",l),x(document).on("click",k),c.$on("openColorPicker",l),c.$on("closeColorPicker",k),window.attachEvent?window.attachEvent("onresize",f):window.addEventListener&&window.addEventListener("resize",f)}}}]),angular.module("ui.colorpicker").provider("localize",function(){this.map={"zh-cn":{default_color:"默认颜色",latest_used:"最近使用",theme_color:"主题颜色",standard_color:"标准颜色",more_color:"更多颜色.."},"en-us":{default_color:"default",latest_used:"latest used",theme_color:"theme color",standard_color:"standard color",more_color:"more.."}},this.defaultLang="zh-cn",this.setDefaultLang=function(a){var b=Object.keys(this.map);return-1===b.indexOf(a)?void console.error("Unsupported language: ",a,", please choose in :",b.join(", ")):void(this.defaultLang=a)},this.$get=function(){var a=this;return{get:function(b){return a.map[a.defaultLang].hasOwnProperty(b)?a.map[a.defaultLang][b]:(console.warn("Missing lang pair for : ",b),"")}}}});
//# sourceMappingURL=color-picker.min.map